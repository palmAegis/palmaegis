<!DOCTYPE html>
<style>/* Dialog CSS */
.logout-dialog {
    border: none;
    border-radius: 12px;
    padding: 0;
    max-width: 400px;
    width: 90%;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.logout-dialog::backdrop {
    background-color: rgba(0, 0, 0, 0.5);
}

.dialog-content {
    padding: 24px;
}

.dialog-content h3 {
    margin-top: 0;
    color: #333;
}

.warning {
    color: #666;
    font-size: 14px;
    margin: 8px 0 20px 0;
}

.dialog-buttons {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}

.dialog-buttons button {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.2s;
}

.dialog-buttons .secondary {
    background-color: #6c757d;
    color: white;
}

.dialog-buttons .secondary:hover {
    background-color: #5a6268;
}

.dialog-buttons .primary {
    background-color: #dc3545;
    color: white;
}

.dialog-buttons .primary:hover {
    background-color: #c82333;
}</style>

<aside class="sidebar">
    <div class="sidebar-header">
        <div class="logo">
            <img src="images/Palm.png" alt="Palm Aegis Logo">
            <h1>Palm Aegis</h1>
        </div>
        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-chevron-left"></i>
        </button>
    </div>
    <nav class="sidebar-nav">
        <ul>
            <li class="nav-item"><!-- removed static 'active' class; JS will set it -->
                <a href="homepage.html" data-tooltip="Dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="farmassessment.html" data-tooltip="Farm Assessment">
                    <i class="fas fa-seedling"></i>
                    <span>Farm Assestment</span>
                </a>
            </li>
            <!-- <li class="nav-item">
                <a href="treehealthTest.html" data-tooltip="Tree Health Test">
                    <i class="fas fa-tree"></i>
                    <span>Tree Health</span>
                </a>
            </li> -->
            <li class="nav-item">
                <a href="treehealth.html" data-tooltip="Tree Health Test">
                    <i class="fas fa-tree"></i>
                    <span>Tree Health</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="treatment.html" data-tooltip="Treatment">
                    <i class="fas fa-shield"></i>
                    <span>Treatment</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="farmdatatest.html" data-tooltip="Farm Data">
                    <i class="fas fa-database"></i>
                    <span>Farm Data</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="forum.html" data-tooltip="Forum">
                    <i class="fas fa-comments"></i>
                    <span>Forum</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="setting.html" data-tooltip="Settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </li>
            <!-- In the logout nav-item -->
<li class="nav-item">
    <a href="#" id="logoutBtn" data-tooltip="Logout" onclick="logoutDialog.showModal()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
    </a>
</li>

<!-- Dialog HTML -->
<dialog id="logoutDialog" class="logout-dialog">
    <div class="dialog-content">
        <h3>Confirm Logout</h3>
        <p>Are you sure you want to logout?</p>
        <p class="warning">You will need to sign in again to access your account.</p>
        <div class="dialog-buttons">
            <button class="secondary" onclick="logoutDialog.close()">Cancel</button>
            <button class="primary" onclick="performLogout()">Logout</button>
        </div>
    </div>
</dialog>
        </ul>
    </nav>

    <div class="sidebar-footer">
        <div class="user-profile-mini">
            <img src="images/user-avatar.jpg" alt="User Avatar" class="user-avatar" id="sidebarUserAvatar">
            <div class="user-info">
                <span class="user-name">Loading...</span>
                <span class="user-role">Farmer</span>
            </div>
        </div>
    </div>
</aside>